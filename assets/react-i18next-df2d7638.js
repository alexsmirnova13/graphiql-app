import{h as F,k as $,f as D,b as ve,d as ge,l as ee}from"./@babel-fdd30412.js";import{r as l}from"./react-f80be28f.js";import{c as de}from"./html-parse-stringify-b3f40175.js";function C(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];typeof n[0]=="string"&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var M={};function K(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&M[t[0]]||(typeof t[0]=="string"&&(M[t[0]]=new Date),C.apply(void 0,t))}function q(e,t,n){e.loadNamespaces(t,function(){if(e.isInitialized)n();else{var r=function o(){setTimeout(function(){e.off("initialized",o)},0),n()};e.on("initialized",r)}})}function ye(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=t.languages[0],o=t.options?t.options.fallbackLng:!1,i=t.languages[t.languages.length-1];if(r.toLowerCase()==="cimode")return!0;var a=function(d,y){var w=t.services.backendConnector.state["".concat(d,"|").concat(y)];return w===-1||w===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(r,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||a(r,e)&&(!o||a(i,e)))}function me(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t.languages||!t.languages.length)return K("i18n.languages were undefined or empty",t.languages),!0;var r=t.options.ignoreJSONStructure!==void 0;return r?t.hasLoadedNamespace(e,{precheck:function(i,a){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!a(i.isLanguageChangingTo,e))return!1}}):ye(e,t,n)}function be(e){return e.displayName||e.name||(typeof e=="string"&&e.length>0?e:"Unknown")}var Oe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,he={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},je=function(t){return he[t]},we=function(t){return t.replace(Oe,je)};function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var B={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:we};function Pe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};B=X(X({},B),e)}function te(){return B}var ne;function xe(e){ne=e}function z(){return ne}var Ne=["format"],Ee=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U(e,t){if(!e)return!1;var n=e.props?e.props.children:e.children;return t?n.length>0:!!n}function L(e){return e?e.props?e.props.children:e.children:[]}function Se(e){return Object.prototype.toString.call(e)!=="[object Array]"?!1:e.every(function(t){return l.isValidElement(t)})}function I(e){return Array.isArray(e)?e:[e]}function Te(e,t){var n=h({},t);return n.props=Object.assign(e.props,t.props),n}function re(e,t){if(!e)return"";var n="",r=I(e),o=t.transSupportBasicHtmlNodes&&t.transKeepBasicHtmlNodesFor?t.transKeepBasicHtmlNodesFor:[];return r.forEach(function(i,a){if(typeof i=="string")n+="".concat(i);else if(l.isValidElement(i)){var v=Object.keys(i.props).length,d=o.indexOf(i.type)>-1,y=i.props.children;if(!y&&d&&v===0)n+="<".concat(i.type,"/>");else if(!y&&(!d||v!==0))n+="<".concat(a,"></").concat(a,">");else if(i.props.i18nIsDynamicList)n+="<".concat(a,"></").concat(a,">");else if(d&&v===1&&typeof y=="string")n+="<".concat(i.type,">").concat(y,"</").concat(i.type,">");else{var w=re(y,t);n+="<".concat(a,">").concat(w,"</").concat(a,">")}}else if(i===null)C("Trans: the passed in value is invalid - seems you passed in a null child.");else if(D(i)==="object"){var x=i.format,m=$(i,Ne),O=Object.keys(m);if(O.length===1){var b=x?"".concat(O[0],", ").concat(x):O[0];n+="{{".concat(b,"}}")}else C("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",i)}else C("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",i)}),n}function ke(e,t,n,r,o,i){if(t==="")return[];var a=r.transKeepBasicHtmlNodesFor||[],v=t&&new RegExp(a.join("|")).test(t);if(!e&&!v)return[t];var d={};function y(f){var N=I(f);N.forEach(function(u){typeof u!="string"&&(U(u)?y(L(u)):D(u)==="object"&&!l.isValidElement(u)&&Object.assign(d,u))})}y(e);var w=de.parse("<0>".concat(t,"</0>")),x=h(h({},d),o);function m(f,N,u){var p=L(f),P=b(p,N.children,u);return Se(p)&&P.length===0?p:P}function O(f,N,u,p,P){f.dummy&&(f.children=N),u.push(l.cloneElement(f,h(h({},f.props),{},{key:p}),P?void 0:N))}function b(f,N,u){var p=I(f),P=I(N);return P.reduce(function(g,s,E){var S=s.children&&s.children[0]&&s.children[0].content&&n.services.interpolator.interpolate(s.children[0].content,x,n.language);if(s.type==="tag"){var j=p[parseInt(s.name,10)];!j&&u.length===1&&u[0][s.name]&&(j=u[0][s.name]),j||(j={});var c=Object.keys(s.attrs).length!==0?Te({props:s.attrs},j):j,T=l.isValidElement(c),R=T&&U(s,!0)&&!s.voidElement,se=v&&D(c)==="object"&&c.dummy&&!T,oe=D(e)==="object"&&e!==null&&Object.hasOwnProperty.call(e,s.name);if(typeof c=="string"){var ie=n.services.interpolator.interpolate(c,x,n.language);g.push(ie)}else if(U(c)||R){var ue=m(c,s,u);O(c,ue,g,E)}else if(se){var ce=b(p,s.children,u);g.push(l.cloneElement(c,h(h({},c.props),{},{key:E}),ce))}else if(Number.isNaN(parseFloat(s.name)))if(oe){var pe=m(c,s,u);O(c,pe,g,E,s.voidElement)}else if(r.transSupportBasicHtmlNodes&&a.indexOf(s.name)>-1)if(s.voidElement)g.push(l.createElement(s.name,{key:"".concat(s.name,"-").concat(E)}));else{var fe=b(p,s.children,u);g.push(l.createElement(s.name,{key:"".concat(s.name,"-").concat(E)},fe))}else if(s.voidElement)g.push("<".concat(s.name," />"));else{var le=b(p,s.children,u);g.push("<".concat(s.name,">").concat(le,"</").concat(s.name,">"))}else if(D(c)==="object"&&!T){var V=s.children[0]?S:null;V&&g.push(V)}else s.children.length===1&&S?g.push(l.cloneElement(c,h(h({},c.props),{},{key:E}),S)):g.push(l.cloneElement(c,h(h({},c.props),{},{key:E})))}else if(s.type==="text"){var W=r.transWrapTextNodes,J=i?r.unescape(n.services.interpolator.interpolate(s.content,x,n.language)):n.services.interpolator.interpolate(s.content,x,n.language);W?g.push(l.createElement(W,{key:"".concat(s.name,"-").concat(E)},J)):g.push(J)}return g},[])}var k=b([{dummy:!0,children:e||[]}],w,I(e||[]));return L(k[0])}function De(e){var t=e.children,n=e.count,r=e.parent,o=e.i18nKey,i=e.context,a=e.tOptions,v=a===void 0?{}:a,d=e.values,y=e.defaults,w=e.components,x=e.ns,m=e.i18n,O=e.t,b=e.shouldUnescape,k=$(e,Ee),f=m||z();if(!f)return K("You will need to pass in an i18next instance by using i18nextReactModule"),t;var N=O||f.t.bind(f)||function(R){return R};i&&(v.context=i);var u=h(h({},te()),f.options&&f.options.react),p=x||N.ns||f.options&&f.options.defaultNS;p=typeof p=="string"?[p]:p||["translation"];var P=y||re(t,u)||u.transEmptyNodeValue||o,g=u.hashTransKey,s=o||(g?g(P):P),E=d?v.interpolation:{interpolation:h(h({},v.interpolation),{},{prefix:"#$?",suffix:"?$#"})},S=h(h(h(h({},v),{},{count:n},d),E),{},{defaultValue:P,ns:p}),j=s?N(s,S):P,c=ke(w||t,j,f,u,S,b),T=r!==void 0?r:u.defaultTransParent;return T?l.createElement(T,k,c):c}var He={type:"3rdParty",init:function(t){Pe(t.options.react),xe(t)}},ae=l.createContext(),Ie=function(){function e(){ge(this,e),this.usedNamespaces={}}return ve(e,[{key:"addUsedNamespaces",value:function(n){var r=this;n.forEach(function(o){r.usedNamespaces[o]||(r.usedNamespaces[o]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}(),Fe=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Be(e){var t=e.children,n=e.count,r=e.parent,o=e.i18nKey,i=e.context,a=e.tOptions,v=a===void 0?{}:a,d=e.values,y=e.defaults,w=e.components,x=e.ns,m=e.i18n,O=e.t,b=e.shouldUnescape,k=$(e,Fe),f=l.useContext(ae)||{},N=f.i18n,u=f.defaultNS,p=m||N||z(),P=O||p&&p.t.bind(p);return De(Ae({children:t,count:n,parent:r,i18nKey:o,context:i,tOptions:v,values:d,defaults:y,components:w,ns:x||P&&P.ns||u||p&&p.options&&p.options.defaultNS,i18n:p,t:O,shouldUnescape:b},k))}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Ce=function(t,n){var r=l.useRef();return l.useEffect(function(){r.current=n?r.current:t},[t,n]),r.current};function Ke(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.i18n,r=l.useContext(ae)||{},o=r.i18n,i=r.defaultNS,a=n||o||z();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new Ie),!a){K("You will need to pass in an i18next instance by using initReactI18next");var v=function(j,c){return typeof c=="string"?c:c&&D(c)==="object"&&typeof c.defaultValue=="string"?c.defaultValue:Array.isArray(j)?j[j.length-1]:j},d=[v,{},!1];return d.t=v,d.i18n={},d.ready=!1,d}a.options.react&&a.options.react.wait!==void 0&&K("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var y=H(H(H({},te()),a.options.react),t),w=y.useSuspense,x=y.keyPrefix,m=e||i||a.options&&a.options.defaultNS;m=typeof m=="string"?[m]:m||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(m);var O=(a.isInitialized||a.initializedStoreOnce)&&m.every(function(S){return me(S,a,y)});function b(){return a.getFixedT(null,y.nsMode==="fallback"?m:m[0],x)}var k=l.useState(b),f=ee(k,2),N=f[0],u=f[1],p=m.join(),P=Ce(p),g=l.useRef(!0);l.useEffect(function(){var S=y.bindI18n,j=y.bindI18nStore;g.current=!0,!O&&!w&&q(a,m,function(){g.current&&u(b)}),O&&P&&P!==p&&g.current&&u(b);function c(){g.current&&u(b)}return S&&a&&a.on(S,c),j&&a&&a.store.on(j,c),function(){g.current=!1,S&&a&&S.split(" ").forEach(function(T){return a.off(T,c)}),j&&a&&j.split(" ").forEach(function(T){return a.store.off(T,c)})}},[a,p]);var s=l.useRef(!0);l.useEffect(function(){g.current&&!s.current&&u(b),s.current=!1},[a,x]);var E=[N,a,O];if(E.t=N,E.i18n=a,E.ready=O,O||!O&&!w)return E;throw new Promise(function(S){q(a,m,function(){S()})})}var $e=["forwardedRef"];function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(r){F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ze(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(r){function o(a){var v=a.forwardedRef,d=$(a,$e),y=Ke(e,A(A({},d),{},{keyPrefix:t.keyPrefix})),w=ee(y,3),x=w[0],m=w[1],O=w[2],b=A(A({},d),{},{t:x,i18n:m,tReady:O});return t.withRef&&v?b.ref=v:!t.withRef&&v&&(b.forwardedRef=v),l.createElement(r,b)}o.displayName="withI18nextTranslation(".concat(be(r),")"),o.WrappedComponent=r;var i=function(v,d){return l.createElement(o,Object.assign({},v,{forwardedRef:d}))};return t.withRef?l.forwardRef(i):o}}export{Be as T,He as i,Ke as u,ze as w};
